(function(g){var window=this;'use strict';var xm=function(p){p.publish("cardstatechange",p.fN()&&p.LZ()?1:0)},TF=function(p,y){var O=g.AQ(y),v=O?y:arguments;
for(O=O?0:1;O<v.length;O++){if(p==null)return;p=p[v[O]]}return p},kPF=function(p){var y=g.Lu(p);
p=g.m0(p);return new g.$P(y.x,y.y,p.width,p.height)},xle=function(p,y,O){var v=v===void 0?{}:v;
var W;return W=g.tB(p,y,function(){g.Yi(W);O.apply(p,arguments)},v)},MR=function(p){p=g.vX(p);
delete tF[p];g.DK(tF)&&Ym&&Ym.stop()},tse=function(){Ym||(Ym=new g.WI(function(){TpL()},20));
var p=Ym;p.isActive()||p.start()},TpL=function(){var p=g.E_();
g.HX(tF,function(y){YiU(y,p)});
g.DK(tF)||tse()},ZN=function(p,y,O,v){g.Kh.call(this);
if(!Array.isArray(p)||!Array.isArray(y))throw Error("Start and end parameters must be arrays");if(p.length!=y.length)throw Error("Start and end points must be the same length");this.T=p;this.Y=y;this.duration=O;this.D=v;this.coords=[];this.progress=this.G=0;this.B=null},YiU=function(p,y){y<p.startTime&&(p.endTime=y+p.endTime-p.startTime,p.startTime=y);
p.progress=(y-p.startTime)/(p.endTime-p.startTime);p.progress>1&&(p.progress=1);p.G=1E3/(y-p.B);p.B=y;MsY(p,p.progress);p.progress==1?(p.C=0,MR(p),p.onFinish(),p.f7()):p.isPlaying()&&p.J_()},MsY=function(p,y){typeof p.D==="function"&&(y=p.D(y));
p.coords=Array(p.T.length);for(var O=0;O<p.T.length;O++)p.coords[O]=(p.Y[O]-p.T[O])*y+p.T[O]},Z2_=function(p,y){g.yJ.call(this,p);
this.coords=y.coords;this.x=y.coords[0];this.y=y.coords[1];this.z=y.coords[2];this.duration=y.duration;this.progress=y.progress;this.fps=y.G;this.state=y.C},LB=function(p,y,O,v,W){ZN.call(this,y,O,v,W);
this.element=p},L2e=function(p,y,O,v,W){if(y.length!=2||O.length!=2)throw Error("Start and end points must be 2D");
LB.call(this,p,y,O,v,W)},l9$=function(p){return Math.pow(p,3)},w8Y=function(p){return 3*p*p-2*p*p*p},ml$=function(p){g.d.call(this);
this.T=p||window;this.C=[]},lx=function(p){return p.baseUrl||null},wf=function(p,y){return g.Ho(g.Vt(p,y),function(O){return!!O})},dlX=function(p,y,O){function v(WR){var O4=WR.hovercardButton;
if(!O4)return null;O4=O4.subscribeButtonRenderer;if(!O4)return null;var E4=E(O4.unsubscribedButtonText),b=E(O4.subscribedButtonText);if(O4.subscribed){var PR=E(O4.subscriberCountWithUnsubscribeText);var xx=E(O4.subscriberCountText)}else PR=E(O4.subscriberCountText),xx=E(O4.subscriberCountWithSubscribeText);var U4=null;if(WR.signinEndpoint){U4=TF(WR,"signinEndpoint","webNavigationEndpointData","url");if(!U4){var rF,GL;U4=(GL=g.F((rF=O4.signInEndpoint)==null?void 0:rF.commandMetadata,g.Ry))==null?void 0:
GL.url}if(!U4)return null}return E4&&(b||U4)?{subscribed:O4.subscribed,subscribeText:E4,subscribeCount:PR,unsubscribeText:b,unsubscribeCount:xx,enabled:O4.enabled,signinUrl:U4,classic:WR.useClassicSubscribeButton}:null}
function W(WR){if(WR){var O4=[],E4=WR.videoId;E4&&O4.push("v="+E4);(E4=WR.playlistId)&&O4.push("list="+E4);(WR=WR.startTimeSeconds)&&O4.push("t="+WR);return"/watch?"+O4.join("&")}}
function E(WR){if(!WR)return null;var O4=WR.simpleText;return O4?O4:WR.runs?g.Vt(WR.runs,function(E4){return E4.text}).join(""):null}
y=y.endscreenElementRenderer;if(!y)return null;var z=y.style,f=y.endpoint||{},n=null,Q=null,q=!1,S=null,N=null,P=null,u=null,R=!1,r=null,x=null,k=null,M=null,l=null,H=null;if(z==="VIDEO")g.F(f,g.jk)?n=g.F(f,g.jk).url:(H=g.F(f,g.GR),n=W(H)),Q=!1,S=p,y.thumbnailOverlays?(q=y.thumbnailOverlays[0].thumbnailOverlayTimeStatusRenderer,N=E(q.text),q=q.style==="LIVE"):N=E(y.videoDuration);else if(z==="PLAYLIST")g.F(f,g.jk)?n=g.F(f,g.jk).url:(H=g.F(f,g.GR),n=W(H)),Q=!1,S=p,P=E(y.playlistLength);else if(z===
"CHANNEL"){if(R=TF(f,"browseEndpoint","browseId"))u=R,n="/channel/"+u;Q=!1;S="new";(R=!!y.isSubscribe)?r=v(y):x=E(y.subscribersText)}else z==="WEBSITE"?((k=TF(f,"urlEndpoint","url"))&&(n=k),Q=!0,S="new",k=y.icon.thumbnails[0].url):z==="CREATOR_MERCHANDISE"&&(y.productPrice&&(M=E(y.productPrice)),y.additionalFeesText&&(l=E(y.additionalFeesText)),(Q=TF(f,"urlEndpoint","url"))&&(n=Q),Q=!0,S="new");p=TF(y,"title","accessibility","accessibilityData","label");var h=y.endpoint?y.endpoint.clickTrackingParams:
null,X="";if(y.metadata){var V=E(y.metadata);V&&(X=V)}return{id:"element-"+O,type:z,title:E(y.title),metadata:X,callToAction:E(y.callToAction),NP:y.image,iconUrl:k,left:Number(y.left),width:Number(y.width),top:Number(y.top),aspectRatio:Number(y.aspectRatio),startMs:Math.floor(Number(y.startMs)),endMs:Math.floor(Number(y.endMs)),videoDuration:N,VD:q,playlistLength:P,channelId:u,subscribeButton:r,subscribersText:x,isSubscribe:R,targetUrl:n||null,BD:Q,sessionData:h?{itct:h}:null,Wba:S,pK:p?p:null,isPlaceholder:y.isPlaceholder,
impressionUrls:wf(y.impressionUrls||[],lx),Mp:wf(y.hovercardShowUrls||[],lx),clickUrls:wf(f.loggingUrls||[],lx),visualElement:g.tT(y.trackingParams),productPrice:M,additionalFeesText:l,watchEndpoint:H||null}},BpA=function(p,y){var O={startMs:Math.floor(Number(p.startMs)),
impressionUrls:wf(p.impressionUrls||[],lx),elements:wf(p.elements||[],function(v,W){return dlX(y,v,W)})};
p.trackingParams&&(O.visualElement=g.tT(p.trackingParams));return O},H2F=function(p){g.Ru.call(this,p);
this.B=this.endscreen=null;this.T={};this.G={};this.D=this.J=null;this.S=[];this.C=null;this.P2=!0;this.Y=0;p=p.X();this.V=g.U6(p)||g.h4(p);this.events=new g.hz(this);g.B(this,this.events);this.events.j(this.player,g.Pg("creatorendscreen"),this.onCueRangeEnter);this.events.j(this.player,g.u5("creatorendscreen"),this.onCueRangeExit);this.events.j(this.player,"resize",this.rN);this.events.j(window,"focus",this.waN);this.load();var y=g.Vw("STYLE");(g.Iz("HEAD")[0]||document.body).appendChild(y);this.addOnDisposeCallback(function(){g.Wv(y)});
y.sheet&&(y.sheet.insertRule(".ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAIVBMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///91E4wTAAAACXRSTlMArBbpVOtYrReN+x2FAAAAAWJLR0QKaND0VgAAACFJREFUCNdjYCAWzIQAFBaZ6hgVYLKcJnBWGEyWvYGASwCXtBf7m4i3CQAAAABJRU5ErkJggg==) no-repeat center;background-size:18px;width:18px;height:18px}",0),y.sheet.insertRule(".ytp-ce-size-853 .ytp-ce-playlist-icon, .ytp-ce-size-1280 .ytp-ce-playlist-icon, .ytp-ce-size-1920 .ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJ1BMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///9RfzIKAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAyBs1FjAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}",
0))},i2S=function(p){return p.player.getVideoData().sN?"current":p.V?"new":"current"},mL=function(p){return p.player.X().playerStyle==="creator-endscreen-editor"},F2X=function(p){var y=p.player.getVideoData(),O=y.videoId;
p.B&&p.B.abort();O={method:"POST",onFinish:function(W){var E=p.B=null;W.status===200&&(W=W.responseText,W.substring(0,3)===")]}"&&(W=W.substring(3),E=JSON.parse(W),E=BpA(E,i2S(p))));df(p,E)},
urlParams:{v:O},withCredentials:!0};p.V&&(O.urlParams.ptype="embedded");var v=y.WB;v&&(O.postParams={ad_tracking:v});if(y=g.tCB(y))if(y=g.jK(y),y=g.eK(y))p.B=g.Z_(y,O)},df=function(p,y,O){O=O===void 0?!0:O;
p.player.aY("creatorendscreen");p.J&&(p.J.dispose(),p.J=null,p.D.dispose(),p.D=null);for(var v=g.c(Object.values(p.T)),W=v.next();!W.done;W=v.next())W.value.dispose();p.T={};p.G={};p.S.length>0&&(p.S.forEach(function(f){f.dispose()}),p.S.length=0);
p.C&&(g.PI(p.C,"ytp-ce-element-show"),p.C.setAttribute("aria-hidden","true"));p.Y=0;if((p.endscreen=y)&&y.elements){O&&I96(p);O=[];v=new g.Sv(y.startMs,0x7ffffffffffff,{id:"ytp-ce-in-endscreen",namespace:"creatorendscreen"});O.push(v);p.player.X().T||(p.J=new g.U({W:"div",L:"ytp-ce-shadow"}),g.IK(p.player,p.J.element,4),p.D=new g.n$(p.J,200));for(v=0;v<y.elements.length;++v){W=y.elements[v];var E=erK(p,W);if(E){p.T[W.id]=E;p.G[W.id]=W;g.IK(p.player,E.element,4);var z=new g.Sv(W.startMs,W.endMs,{id:"ytp-ce-element-"+
W.id,namespace:"creatorendscreen"});O.push(z);X86(p,E,W)}else g.It(new g.pX("buildEndscreenElement null",W))}p.player.u0(O);p.rN()}},I96=function(p){var y=g.MY(),O=g.Z2();
O&&y&&p.endscreen.visualElement&&g.g8(g.yb)(void 0,O,y,p.endscreen.visualElement)},erK=function(p,y){var O=null;
switch(y.type){case "VIDEO":p={W:"div",qe:["ytp-ce-element","ytp-ce-video"],Z:{tabindex:"0","aria-label":y.pK||"","aria-hidden":"true"},U:[{W:"div",L:"ytp-ce-element-shadow"},{W:"div",L:"ytp-ce-covering-image",Z:Bd(y)},{W:"div",L:"ytp-ce-covering-shadow-top"},{W:"a",L:"ytp-ce-covering-overlay",Z:{href:Hd(p,y.targetUrl),tabindex:"-1"},U:[{W:"div",qe:["ytp-ce-video-title","ytp-webkit-ellipsis"],Z:{dir:g.rb(y.title||"")},Qr:y.title},{W:"div",L:y.VD?"ytp-ce-live-video-duration":"ytp-ce-video-duration",
Qr:y.videoDuration||void 0}]}]};O=new g.U(p);break;case "PLAYLIST":p={W:"div",qe:["ytp-ce-element","ytp-ce-playlist"],Z:{tabindex:"0","aria-label":y.pK||"","aria-hidden":"true"},U:[{W:"div",L:"ytp-ce-element-shadow"},{W:"div",L:"ytp-ce-covering-image",Z:Bd(y)},{W:"div",L:"ytp-ce-covering-shadow-top"},{W:"a",L:"ytp-ce-covering-overlay",Z:{href:Hd(p,y.targetUrl),tabindex:"-1"},U:[{W:"div",qe:["ytp-ce-playlist-title","ytp-webkit-ellipsis"],Z:{dir:g.rb(y.title||"")},Qr:y.title},{W:"div",L:"ytp-ce-playlist-count",
U:[{W:"div",L:"ytp-ce-playlist-icon"},{W:"div",L:"ytp-ce-playlist-count-text",Qr:y.playlistLength||void 0}]}]}]};O=new g.U(p);break;case "CHANNEL":O={W:"div",qe:["ytp-ce-element","ytp-ce-channel",y.isSubscribe?"ytp-ce-channel-this":"ytp-ce-channel-that"],Z:{tabindex:"0","aria-label":y.pK||"","aria-hidden":"true"},U:[{W:"div",L:"ytp-ce-element-shadow"},{W:"div",L:"ytp-ce-expanding-overlay",U:[{W:"div",L:"ytp-ce-expanding-overlay-hider"},{W:"div",L:"ytp-ce-expanding-overlay-background"},{W:"div",L:"ytp-ce-expanding-overlay-content",
U:[{W:"div",L:"ytp-ce-expanding-overlay-body",U:[{W:"div",L:"ytp-ce-expanding-overlay-body-padding",U:[{W:"a",qe:["ytp-ce-channel-title","ytp-ce-link"],Z:{href:Hd(p,y.targetUrl),target:"_blank",tabindex:"-1",dir:g.rb(y.title||"")},Qr:y.title},y.subscribeButton?{W:"div",L:"ytp-ce-subscribe-container",U:[{W:"div",L:"ytp-ce-channel-subscribe"}]}:"",y.subscribersText?{W:"div",L:"ytp-ce-channel-subscribers-text",Qr:y.subscribersText}:"",y.metadata?{W:"div",qe:["ytp-ce-channel-metadata","yt-ui-ellipsis",
"yt-ui-ellipsis-3"],Qr:y.metadata}:""]}]}]}]},{W:"div",L:"ytp-ce-expanding-image",Z:Bd(y)}]};O=new g.U(O);var v=g.XU(document,"div","ytp-ce-channel-subscribe",O.element)[0];if(y.subscribeButton&&y.channelId){g.S1(v,"ytp-ce-subscribe-button");if(p.player.X().T){var W=null;var E=y.sessionData.itct}else W="endscreen",E=null;W=new g.pG(y.subscribeButton.subscribeText,y.subscribeButton.subscribeCount,y.subscribeButton.unsubscribeText,y.subscribeButton.unsubscribeCount,!!y.subscribeButton.enabled,!!y.subscribeButton.classic,
y.channelId,!!y.subscribeButton.subscribed,W,E,p.player,!1);v.appendChild(W.element);p.S.push(W)}break;case "WEBSITE":p={W:"div",qe:["ytp-ce-element","ytp-ce-website"],Z:{tabindex:"0","aria-label":y.pK||"","aria-hidden":"true"},U:[{W:"div",L:"ytp-ce-element-shadow"},{W:"div",L:"ytp-ce-expanding-overlay",U:[{W:"div",L:"ytp-ce-expanding-overlay-hider"},{W:"div",L:"ytp-ce-expanding-overlay-background"},{W:"div",L:"ytp-ce-expanding-overlay-content",U:[{W:"div",L:"ytp-ce-expanding-overlay-body",U:[{W:"div",
L:"ytp-ce-expanding-overlay-body-padding",U:[{W:"div",L:"ytp-ce-website-title",Z:{dir:g.rb(y.title||"")},Qr:y.title},{W:"div",L:"ytp-ce-website-metadata",Qr:y.metadata},{W:"a",qe:["ytp-ce-website-goto","ytp-ce-link"],Z:{href:Hd(p,y.targetUrl),target:"_blank",tabindex:"-1"},Qr:y.callToAction}]}]}]}]},{W:"div",L:"ytp-ce-expanding-image",Z:Bd(y)},{W:"div",L:"ytp-ce-expanding-icon",Z:UlY(y.iconUrl)}]};O=new g.U(p);break;case "CREATOR_MERCHANDISE":O="",y.productPrice&&(O={W:"div",L:"ytp-ce-merchandise-price-container",
U:[{W:"div",L:"ytp-ce-merchandise-price",Qr:y.productPrice}]},y.additionalFeesText&&O.U.push({W:"div",L:"ytp-ce-merchandise-additional-fees",Qr:y.additionalFeesText})),p={W:"div",qe:["ytp-ce-element","ytp-ce-merchandise"],Z:{tabindex:"0","aria-label":y.pK||"","aria-hidden":"true"},U:[{W:"div",L:"ytp-ce-element-shadow"},{W:"div",L:"ytp-ce-expanding-overlay",U:[{W:"div",L:"ytp-ce-expanding-overlay-hider"},{W:"div",L:"ytp-ce-expanding-overlay-background"},{W:"div",L:"ytp-ce-expanding-overlay-content",
U:[{W:"div",L:"ytp-ce-expanding-overlay-body",U:[{W:"div",L:"ytp-ce-expanding-overlay-body-padding",U:[{W:"div",L:"ytp-ce-merchandise-title",Z:{dir:g.rb(y.title||"")},Qr:y.title},O,{W:"div",L:"ytp-ce-merchandise-metadata",Qr:y.metadata},{W:"a",qe:["ytp-ce-merchandise-goto","ytp-ce-link"],Z:{href:Hd(p,y.targetUrl),target:"_blank",tabindex:"-1"},Qr:y.callToAction}]}]}]}]},{W:"div",L:"ytp-ce-expanding-image",Z:Bd(y)},{W:"div",L:"ytp-ce-merchandise-invideo-cta-container",U:[{W:"div",L:"ytp-ce-merchandise-invideo-cta",
Qr:y.callToAction||void 0}]}]},O=new g.U(p)}y.isPlaceholder&&g.S1(O.element,"ytp-ce-placeholder");return O},Bd=function(p){if(p.NP)var y=p.NP.thumbnails;
return UlY(y?y[y.length-1].url:null)},UlY=function(p){return p?{style:"background-image: url("+p+")"}:{}},X86=function(p,y,O){function v(n){n&&(y.listen("blur",function(){n.style.display!="none"&&p.P2&&n.focus()}),y.j(n,"focus",E),y.j(n,"blur",z))}
function W(n){p.Y+=n;p.Y>0?(g.S1(y.element,"ytp-ce-force-expand"),ix(p,O.id,!0)):(g.PI(y.element,"ytp-ce-force-expand"),g.PI(y.element,"ytp-ce-element-hover"),ix(p,O.id,!1))}
function E(){W(1)}
function z(){W(-1)}
y.listen("mouseenter",function(){jb6(p,y,O)});
y.listen("mouseleave",function(){hr6(p,y,O)});
p.player.X().T||y.listen("click",function(){g.S1(y.element,"ytp-ce-element-hover")});
y.listen("click",function(n){b2I(p,O,n)});
y.listen("keypress",function(n){b2I(p,O,n)});
y.listen("focus",function(){jb6(p,y,O)});
y.listen("blur",function(){hr6(p,y,O)});
y.listen("touchstart",function(){jb6(p,y,O)});
var f=g.US("ytp-ce-expanding-overlay-hider",y.element);f&&y.j(f,"touchstart",function(n){n.stopPropagation();g.PI(y.element,"ytp-ce-element-hover");g.PI(y.element,"ytp-ce-force-expand")});
y.listen("keydown",function(n){p.P2=n.keyCode===9&&!n.shiftKey});
v(g.US("ytp-sb-subscribe",y.element));v(g.US("ytp-sb-unsubscribe",y.element));y.listen("focus",E);y.listen("blur",z)},b2I=function(p,y,O){if(y.targetUrl&&(!O||O.type!=="keypress"||O.keyCode===13)){for(var v=O.target;v&&!g.qu(v,"ytp-ce-element");){g.qu(v,"subscribe-label")&&CfK(p,y);
if(g.qu(v,"ytp-ce-channel-subscribe"))return;v=v.parentElement||null}if(!v||g.qu(v,"ytp-ce-element-hover")){O.preventDefault();O.stopPropagation();if(v=p.T[y.id])hr6(p,v,y),v.element.blur();if(O.ctrlKey||O.metaKey||y.Wba==="new")CfK(p,y),p.player.sendVideoStatsEngageEvent(17,void 0),p.player.pauseVideo(),O=g.jK(Hd(p,y.targetUrl)),O=g.eK(O),g.yF(O,void 0,y.sessionData);else{var W=g.zd(p.player.X())||p.player.getVideoData().sN,E=function(){var z=Hd(p,y.targetUrl),f=y.sessionData,n=y.watchEndpoint,Q=
g.n5(z);W&&Q&&(Q.v||Q.list)?p.player.hc(Q.v,f,Q.list,!1,void 0,n||void 0):g.pO(z,f)};
CfK(p,y,function(){p.player.sendVideoStatsEngageEvent(17,E)})}}}},Hd=function(p,y){p=p.player.X();
if(y){if(y.startsWith("//"))return p.protocol+":"+y;if(y.startsWith("/"))return g.SS(p)+y}else return"";return y},jb6=function(p,y,O){g.qu(y.element,"ytp-ce-element-hover")||(O.type==="VIDEO"||O.type==="PLAYLIST"?g.S1(y.element,"ytp-ce-element-hover"):p.player.X().T?(new g.WI(function(){g.S1(y.element,"ytp-ce-element-hover")},200)).start():g.S1(y.element,"ytp-ce-element-hover"),Fg(p,O.Mp),ix(p,O.id,!0))},hr6=function(p,y,O){g.PI(y.element,"ytp-ce-element-hover");
g.PI(y.element,"ytp-ce-force-expand");ix(p,O.id,!1)},ix=function(p,y,O){p.J&&(O?p.D.show():p.D.hide());
for(var v=g.c(Object.keys(p.T)),W=v.next();!W.done;W=v.next())W=W.value,W!==y&&g.Jg(p.T[W].element,"ytp-ce-element-shadow-show",O)},Fg=function(p,y,O){function v(){E||(W++,W===y.length&&(z.stop(),O&&O()))}
if(!y||y.length===0||mL(p))O&&O();else{y=DlF(p,y);var W=0,E=!1,z=new g.WI(function(){E=!0;O&&O()},1E3,p);
z.start();for(p=0;p<y.length;p++)g.jN(y[p],v)}},CfK=function(p,y,O){Fg(p,y.clickUrls,O);
(p=g.Z2())&&y.BD&&g.q4(p,y.visualElement)},DlF=function(p,y){var O=p.player.getVideoData().clientPlaybackNonce;
p=p.player.getCurrentTime().toFixed(2);O={CPN:O,AD_CPN:O,MT:p};p=[];for(var v=0;v<y.length;v++)p.push(VsY(y[v],O));return p},VsY=function(p,y){return p.replace(/%5B[a-zA-Z_:]+%5D|\[[a-zA-Z_:]+\]/g,function(O){var v=unescape(O);
v=v.substring(1,v.length-1);return y[v]?escape(y[v]):O})},A9h=function(p){return typeof p==="string"?p:""},I$=function(p,y,O){for(var v in y)if(y[v]===p)return p;
return O},pzS=function(p,y,O,v){this.value=p;
this.target=y;this.showLinkIcon=O;this.C=v},eb=function(p){return p.value?p.value:null},Xg=function(p){if(!p)return null;
var y=g.jK(A9h(p.value));y=g.eK(y);if(!y)return null;var O=I$(p.target,y3F,"current");if(O==null)p=null;else{var v=p.show_link_icon;p=new pzS(y,O,v==="true"||v==="false"?v==="true":!0,p.pause_on_navigation!=null?p.pause_on_navigation:!0)}return p},OZU=function(p,y,O){this.type=p;
this.trigger=y;this.url=O},gXF=function(p){if(!p)return null;
var y=I$(p.type,vXU),O=I$(p.trigger,WeK);p=p.url;p=Array.isArray(p)&&p.length?p[0]:p;p=Xg(p?p:null);return y?new OZU(y,O,p):null},EXS=function(p,y,O,v,W){this.id=p;
this.type=y;this.style=O;this.data=W;this.action=v||[]},zFI=function(p,y){return g.SF(p.action,y)},GZY=function(p,y){this.context=p;
this.C=y},oXS=function(p){return p.customMessage?Uu("div","iv-card-message",p.customMessage):""},jb=function(p,y){p="background-image: url("+p+");";
var O=[];y&&O.push(y);return{W:"div",L:"iv-card-image",Z:{style:p},U:O}},fk_=function(p){if(!p.metaInfo||p.metaInfo.length===0)return"";
var y=[];p=g.c(p.metaInfo);for(var O=p.next();!O.done;O=p.next())y.push(Uu("li","",O.value));return{W:"ul",L:"iv-card-meta-info",U:y}},Uu=function(p,y,O){y?typeof y==="string"?y={"class":y}:Array.isArray(y)&&(y={"class":y.join(" ")}):y={};
y.dir=g.rb(O);return{W:p,Z:y,Qr:O}},nXY=function(p){if(!p.customMessage)return"";
var y=["iv-card-action","iv-card-primary-link"],O={};p.Ai&&(y.push("iv-card-action-icon"),O.style="background-image: url("+p.Ai+");");O.dir=g.rb(p.customMessage);var v=[{W:"span",Qr:p.customMessage}];p.showLinkIcon&&(v.push("\u00a0"),v.push({W:"span",L:"iv-card-link-icon"}));return{W:"div",qe:y,Z:O,U:v}},hF=function(p,y,O,v){if(v){y=g.c(y);
for(var W=y.next();!W.done;W=y.next())p.C(W.value,v,O.id,O.sessionData,O.PA.click,5)}},Q1_=function(p,y){this.merchant=p;
this.price=y},qjS=function(p){var y;
(y=p)&&!(y=p.length>1?p.charAt(0)==="/"&&p.charAt(1)!=="/":p==="/")&&(y=p.replace(/^(https?:)?\/\//,"").split("/",1),y=!y||y.length<1||!y[0]?[]:y[0].toLowerCase().split(".").reverse(),y=y[0]==="com"&&y[1]==="youtube"||y[0]==="be"&&y[1]==="youtu");return y?p.indexOf("/redirect?")===-1:!1},SjF=function(p,y){return y?y:qjS(p)?"current":"new"},bx=function(p,y){g.d.call(this);
var O=this;this.element=p;this.context=y;this.In=!1;this.yr=new Map;this.ib=new Map;this.context.N.addEventListener(g.Pg("annotations_module"),function(v){(v=O.yr.get(v))&&v.apply(O)});
this.context.N.addEventListener(g.u5("annotations_module"),function(v){(v=O.ib.get(v))&&v.apply(O)})},CB=function(p,y,O,v,W,E,z){p.context.C.listen(y,"click",function(f){p.BM(O,v,W,E||[],z||0,f)});
p.context.C.listen(y,"touchstart",function(){p.In=!1});
p.context.C.listen(y,"touchmove",function(){p.In=!0})},NwU=function(p){var y;
return((y=g.F(p,g.jk))==null?0:y.url)?g.F(p,g.jk).url:(p=g.F(p,g.GR))&&p.videoId?(y="/watch?v="+p.videoId,p.playlistId&&(y+="&list="+p.playlistId),p.index&&(y+="&index="+p.index),p.startTimeSeconds&&(y+="&t="+p.startTimeSeconds),y):null},DN=function(p,y,O){return{Eq:(p.impressionLoggingUrlsV2s||[]).map(function(v){return v.baseUrl||""}),
click:(O.loggingUrls||[]).map(function(v){return v.baseUrl||""}),
close:(y.dismissLoggingUrlsV2s||[]).map(function(v){return v.baseUrl||""}),
eI:(y.impressionLoggingUrlsV2s||[]).map(function(v){return v.baseUrl||""}),
nt:(y.clickLoggingUrlsV2s||[]).map(function(v){return v.baseUrl||""})}},PmF=function(p,y,O){bx.call(this,y,O);
var v=this;this.N=p;this.eventId=null;this.m7=this.xs=this.q9=this.J=this.isInitialized=!1;this.cards=[];this.kq=this.S=this.Ys=this.D=this.z4=this.C=null;this.P2=[];this.T4=this.Y=this.ge=this.w2=null;this.G=0;this.Ne=new g.WI(function(){},O.I_.VJ?4E3:3E3);
g.B(this,this.Ne);this.eL=new g.WI(function(){});
g.B(this,this.eL);this.R_=new GZY(O,function(W,E,z,f,n,Q){CB(v,W,E,z,f,n,Q)});
this.V=new g.U({W:"div",L:"iv-drawer",Z:{id:"iv-drawer"},U:[{W:"div",L:"iv-drawer-header",Z:{"aria-role":"heading"},U:[{W:"span",L:"iv-drawer-header-text"},{W:"button",qe:["iv-drawer-close-button","ytp-button"],Z:{"aria-label":"Hide cards",tabindex:"0"}}]},{W:"div",L:"iv-drawer-content"}]});g.B(this,this.V);this.B=this.V.element;this.ER=new g.n$(this.V,330);g.B(this,this.ER);this.p_=g.US("iv-drawer-header-text",this.B);this.T=g.US("iv-drawer-content",this.B);this.addCueRange(0,O.videoData.lengthSeconds*
1E3,"",function(){v.q9&&VE(v,"YOUTUBE_DRAWER_AUTO_OPEN")},function(){(v.q9=v.J)&&AF(v)});
this.Fo=new g.hz(this);g.B(this,this.Fo);this.N.addEventListener("videodatachange",this.wU.bind(this))},ufe=function(p,y){y=y.data;
y.autoOpenMs&&p.addCueRange(y.autoOpenMs,0x8000000000000,"",function(){VE(p,"YOUTUBE_DRAWER_AUTO_OPEN")});
y.autoCloseMs&&p.addCueRange(y.autoCloseMs,0x8000000000000,"",function(){AF(p)});
var O=y.headerText;g.Ep(p.p_,O);p.S&&p.S.setAttribute("title",O);y.eventId&&(p.eventId=y.eventId);p.w2=g.tT(y.trackingParams);p.Y=g.tT(y.closeTrackingParams);p.ge=g.tT(y.iconTrackingParams)},J3I=function(p,y){var O=y.cardId?y.cardId:"cr:"+p.G,v=p.N.X().experiments.UR("enable_error_corrections_infocard_web_client");
if(!y.content&&y.teaser.simpleCardTeaserRenderer&&v){var W=y.teaser.simpleCardTeaserRenderer,E=y.icon?y.icon.infoCardIconRenderer:null;if(W.channelAvatar&&W.channelAvatar.thumbnails&&W.channelAvatar.thumbnails.length>0)var z=pF(W.channelAvatar.thumbnails,22,22).url;y={id:O,timestamp:p.G,type:"simple",teaserText:g.rq(W.message),teaserDurationMs:Number(y.cueRanges[0].teaserDurationMs),startMs:Number(y.cueRanges[0].startCardActiveMs),autoOpen:!!y.autoOpen,sessionData:{},sponsored:!1,PA:{},zj:null,E8:W.trackingParams?
g.tT(W.trackingParams):null,ge:E&&E.trackingParams?g.tT(E.trackingParams):null,imageUrl:"",displayDomain:null,showLinkIcon:!1,Ai:null,title:"",customMessage:"",url:null,onClickCommand:W.onTapCommand||null,Bh:z};yL(p,y)}else{var f;if((f=y.content)==null?0:f.simpleCardContentRenderer){if(!y.cueRanges.length)return;z=(W=y.content)==null?void 0:W.simpleCardContentRenderer;W=y.teaser.simpleCardTeaserRenderer;E=y.icon?y.icon.infoCardIconRenderer:null;y={id:O,timestamp:p.G,type:"simple",teaserText:g.rq(W.message),
teaserDurationMs:Number(y.cueRanges[0].teaserDurationMs),startMs:Number(y.cueRanges[0].startCardActiveMs),autoOpen:!!y.autoOpen,sessionData:Ov(p,O,y,z),sponsored:!1,PA:DN(z,W,z.command),zj:z.trackingParams?g.tT(z.trackingParams):null,E8:W.trackingParams?g.tT(W.trackingParams):null,ge:E&&E.trackingParams?g.tT(E.trackingParams):null,imageUrl:pF(z.image.thumbnails,290,290).url,displayDomain:z.displayDomain?g.rq(z.displayDomain):null,showLinkIcon:!!z.showLinkIcon,Ai:null,title:z.title?g.rq(z.title):"",
customMessage:z.callToAction?g.rq(z.callToAction):"",url:g.F(z.command,g.jk).url?Xg({pause_on_navigation:!p.context.videoData.isLivePlayback,target:"new",value:g.F(z.command,g.jk).url}):null,onClickCommand:null};yL(p,y)}else{var n;if((n=y.content)==null?0:n.collaboratorInfoCardContentRenderer){if(!y.cueRanges.length)return;z=(E=y.content)==null?void 0:E.collaboratorInfoCardContentRenderer;W=y.teaser.simpleCardTeaserRenderer;E=y.icon?y.icon.infoCardIconRenderer:null;y={id:O,timestamp:p.G,type:"collaborator",
teaserText:g.rq(W.message),teaserDurationMs:Number(y.cueRanges[0].teaserDurationMs),startMs:Number(y.cueRanges[0].startCardActiveMs),autoOpen:!!y.autoOpen,sessionData:Ov(p,O,y,z),sponsored:!1,PA:DN(z,W,z.endpoint),zj:z.trackingParams?g.tT(z.trackingParams):null,E8:W.trackingParams?g.tT(W.trackingParams):null,ge:E&&E.trackingParams?g.tT(E.trackingParams):null,channelId:g.F(z.endpoint,g.ly).browseId,customMessage:z.customText?g.rq(z.customText):null,profileImageUrl:pF(z.channelAvatar.thumbnails,290,
290).url,title:z.channelName?g.rq(z.channelName):"",metaInfo:[z.subscriberCountText?g.rq(z.subscriberCountText):""],url:Xg({pause_on_navigation:!p.context.videoData.isLivePlayback,target:"new",value:g.F(z.endpoint,g.ly).canonicalBaseUrl?g.F(z.endpoint,g.ly).canonicalBaseUrl:"/channel/"+g.F(z.endpoint,g.ly).browseId}),onClickCommand:null};yL(p,y)}else{var Q;if((Q=y.content)==null?0:Q.playlistInfoCardContentRenderer){if(!y.cueRanges.length)return;var q;z=(q=y.content)==null?void 0:q.playlistInfoCardContentRenderer;
W=y.teaser.simpleCardTeaserRenderer;E=y.icon?y.icon.infoCardIconRenderer:null;y={id:O,timestamp:p.G,type:"playlist",teaserText:g.rq(W.message),teaserDurationMs:Number(y.cueRanges[0].teaserDurationMs),startMs:Number(y.cueRanges[0].startCardActiveMs),autoOpen:!!y.autoOpen,sessionData:Ov(p,O,y,z),sponsored:!1,PA:DN(z,W,z.action),zj:z.trackingParams?g.tT(z.trackingParams):null,E8:W.trackingParams?g.tT(W.trackingParams):null,ge:E&&E.trackingParams?g.tT(E.trackingParams):null,Nk:pF(z.playlistThumbnail.thumbnails,
258,290).url,customMessage:z.customMessage?g.rq(z.customMessage):null,playlistVideoCount:g.rq(z.playlistVideoCount),title:z.playlistTitle?g.rq(z.playlistTitle):"",metaInfo:[z.channelName?g.rq(z.channelName):"",z.videoCountText?g.rq(z.videoCountText):""],url:Xg({pause_on_navigation:!p.context.videoData.isLivePlayback,target:"new",value:NwU(z.action)}),onClickCommand:null};yL(p,y)}else{var S;if((S=y.content)==null?0:S.videoInfoCardContentRenderer){if(!y.cueRanges.length)return;var N;z=(N=y.content)==
null?void 0:N.videoInfoCardContentRenderer;W=y.teaser.simpleCardTeaserRenderer;E=y.icon?y.icon.infoCardIconRenderer:null;y={id:O,timestamp:p.G,type:"video",teaserText:g.rq(W.message),teaserDurationMs:Number(y.cueRanges[0].teaserDurationMs),startMs:Number(y.cueRanges[0].startCardActiveMs),autoOpen:!!y.autoOpen,sessionData:Ov(p,O,y,z),sponsored:!1,PA:DN(z,W,z.action),zj:z.trackingParams?g.tT(z.trackingParams):null,E8:W.trackingParams?g.tT(W.trackingParams):null,ge:E&&E.trackingParams?g.tT(E.trackingParams):
null,Nk:pF(z.videoThumbnail.thumbnails,258,290).url,videoDuration:z.lengthString?g.rq(z.lengthString):null,customMessage:z.customMessage?g.rq(z.customMessage):null,title:z.videoTitle?g.rq(z.videoTitle):"",metaInfo:[z.channelName?g.rq(z.channelName):"",z.viewCountText?g.rq(z.viewCountText):""],isLiveNow:!!z.badge,url:Xg({pause_on_navigation:!p.context.videoData.isLivePlayback,target:"new",value:NwU(z.action)}),onClickCommand:null};yL(p,y)}}}}}p.G++},pF=function(p,y,O){for(var v=-1,W=-1,E=0;E<p.length;E++){if(p[E].height===
y||p[E].width===O)return p[E];
((p[E].height||0)<y||(p[E].width||0)<O)&&(v<0||(p[v].height||0)<(p[E].height||0)||(p[v].width||0)<(p[E].width||0))?v=E:((p[E].height||0)>=y||(p[E].width||0)>=O)&&(W<0||(p[W].height||0)>(p[E].height||0)||(p[W].width||0)>(p[E].width||0))&&(W=E)}return p[W>=0?W:v]},Ov=function(p,y,O,v){return{feature:O.feature?O.feature:"cards",
src_vid:p.context.videoData.videoId,annotation_id:y,ei:p.context.videoData.eventId||"",itct:v.trackingParams||""}},c3S=function(p,y){if(y=KeY(p,y))y===p.C&&(p.C=null),p.N.removeCueRange(y.bx.id),g.Wv(y.z$),g.JI(p.cards,y),p.V8(),vr(p)},VE=function(p,y,O){if(!p.J){p.ER.show();
p.z4=new g.WI(function(){g.S1(p.context.N.getRootNode(),g.EJ.IV_DRAWER_OPEN)},0);
p.z4.start();p.Fo.j(p.T,"mousewheel",function(z){p.Ne.start();z.preventDefault();z=z||window.event;var f=0;z.type=="MozMousePixelScroll"?f=0==(z.axis==z.HORIZONTAL_AXIS)?z.detail:0:window.opera?f=z.detail:f=z.wheelDelta%120==0?"WebkitTransform"in document.documentElement.style?window.chrome&&navigator.platform.indexOf("Mac")==0?z.wheelDeltaY/-30:z.wheelDeltaY/-1.2:z.wheelDelta/-1.6:z.wheelDeltaY/-3;if(z=f)p.T.scrollTop+=z});
p.J=!0;var v=g.Z2();v&&p.w2&&p.Y&&g.nC(v,[p.w2,p.Y]);y={TRIGGER_TYPE:y};for(var W=g.c(p.cards),E=W.next();!E.done;E=W.next())E=E.value,E.S7||(E.S7=!0,RFe(p.context.logger,E.bx.PA.Eq,y)),v&&g.nC(v,[E.bx.zj]);xm(p.N);O&&(p.D=new g.WI(function(){p.Ys=p.S;p.kq.focus()},330),p.D.start())}},AF=function(p){p.J&&(p.ER.hide(),g.mj(p.Fo),g.PI(p.context.N.getRootNode(),g.EJ.IV_DRAWER_OPEN),p.J=!1,xm(p.N),p.D&&p.D.stop(),p.D=new g.WI(function(){p.Ys&&(p.Ys.focus(),p.Ys=null)},330),p.D.start())},$HA=function(p){g.Nu(p.Wj(),
[g.EJ.STOP_EVENT_PROPAGATION,
"iv-drawer-manager"]);g.IK(p.N,p.B,5);p.o7();p.S=g.US("ytp-cards-button",p.N.getRootNode());p.kq=g.US("iv-drawer-close-button",p.B);p.isInitialized=!0},s1F=function(p){p.P2.push(g.np("iv-teaser-shown",p.v0,p));
p.P2.push(g.np("iv-teaser-hidden",p.yX,p));p.P2.push(g.np("iv-teaser-clicked",p.sC,p));p.m7=!0},r3X=function(p,y){var O;
return y.onClickCommand&&((O=g.F(y.onClickCommand,g.OS_))==null?void 0:O.targetId)==="engagement-panel-error-corrections"?(p.T4=y,!0):!1},akF=function(p,y){p.T4=y;
var O=p.N.getVideoData();if(!O)return!1;O=g.dS(O);if(O==null?0:O.markersMap)for(var v,W=0;((v=O)==null?void 0:v.markersMap.length)>W;W++){var E=void 0,z=(E=O)==null?void 0:E.markersMap[W];if(z.key==="ERROR_CORRECTION_MARKERS"&&(E=void 0,(z=(E=z.value)==null?void 0:E.markers)&&z.length>0))return v=void 0,y.startMs=((v=g.F(z[0],g.iBU))==null?void 0:v.timeRangeStartMillis)||0,p.T4=null,!0}return!1},yL=function(p,y){if(!r3X(p,y)||akF(p,y)){var O=kZU(p,y);
if(O){var v={bx:y,z$:O.element,S7:!1};if(y.onClickCommand)p.N.K("web_infocards_teaser_show_logging_fix")&&(p.m7||s1F(p),c3S(p,y.id),O=p.findLastIndex(v),g.k6(p.cards,O,0,v));else{p.isInitialized||$HA(p);c3S(p,y.id);var W=p.findLastIndex(v);g.k6(p.cards,W,0,v);O.Au(p.T,W);p.V8()}y.autoOpen?p.addCueRange(y.startMs,0x8000000000000,y.id,function(){p.J||(p.C=v,vr(p),xHe(p,v),VE(p,"YOUTUBE_DRAWER_AUTO_OPEN",!1))}):(O=p.context.N.getCurrentTime()*1E3,O<5E3&&O>y.startMs&&Tw$(p,v),p.addCueRange(y.startMs,
y.startMs+1,y.id,function(){Tw$(p,v)}),vr(p))}}},kZU=function(p,y){switch(y.type){case "simple":p=p.R_;
var O=y.displayDomain?{W:"div",L:"iv-card-image-text",Qr:y.displayDomain}:void 0;var v=nXY(y);O={W:"div",qe:["iv-card"],U:[{W:"a",L:"iv-click-target",Z:{href:y.url?eb(y.url)||"":""},U:[jb(y.imageUrl,O),{W:"div",L:"iv-card-content",U:[Uu("h2",void 0,y.title),v]}]}]};O=new g.U(O);hF(p,g.ew("iv-click-target",O.element),y,y.url);y=O;break;case "collaborator":p=p.R_;O={W:"div",qe:["iv-card","iv-card-channel"],U:[{W:"a",qe:["iv-click-target"],Z:{href:eb(y.url)||"","data-ytid":y.channelId},U:[jb(y.profileImageUrl),
{W:"div",L:"iv-card-content",U:[oXS(y),{W:"h2",L:"iv-card-primary-link",Qr:y.title},fk_(y)]}]}]};O=new g.U(O);hF(p,g.ew("iv-click-target",O.element),y,y.url);y=O;break;case "playlist":p=p.R_;O={W:"div",qe:["iv-card","iv-card-playlist"],U:[{W:"a",L:"iv-click-target",Z:{href:eb(y.url)||""},U:[jb(y.Nk,{W:"div",L:"iv-card-image-overlay",U:[{W:"span",L:"iv-card-playlist-video-count",Qr:y.playlistVideoCount}]}),{W:"div",L:"iv-card-content",U:[oXS(y),Uu("h2","iv-card-primary-link",y.title),fk_(y)]}]}]};
O=new g.U(O);hF(p,g.ew("iv-click-target",O.element),y,y.url);y=O;break;case "productListing":p=p.R_;var W=y.offers.length!=0;O=["iv-card"];v="";var E=nXY(y);W&&(O.push("iv-card-product-listing"),v="iv-card-primary-link",E=y.offers[0],W=[],E.price&&W.push({W:"div",L:"iv-card-offer-price",Qr:E.price}),E.merchant&&W.push({W:"div",L:"iv-card-offer-merchant",Qr:E.merchant}),E={W:"div",U:W});W=y.url?eb(y.url)||"":"";O={W:"div",qe:O,Z:{tabindex:"0"},U:[{W:"a",qe:["iv-card-image","iv-click-target"],Z:{style:"background-image: url("+
y.imageUrl+");",href:W,"aria-hidden":"true",tabindex:"-1"}},{W:"div",L:"iv-card-content",U:[y.sponsored?{W:"div",L:"iv-card-sponsored",U:["Sponsored",{W:"div",L:"iv-ad-info-container",U:[{W:"div",L:"iv-ad-info",Qr:"{{adInfo}}"},{W:"div",L:"iv-ad-info-icon-container",U:[{W:"div",L:"iv-ad-info-icon"},{W:"div",L:"iv-ad-info-callout"}]}]}]}:"",{W:"a",L:"iv-click-target",Z:{href:W},U:[Uu("h2",v,y.title),E]}]}]};O=new g.U(O);v=g.Vw("span");g.Ep(v,"You are seeing this product because we think it is relevant to the video. Google may be compensated by the merchant.");
O.hn(v,"adInfo");hF(p,g.ew("iv-click-target",O.element),y,y.url);y=O;break;case "video":p=p.R_;v=y.videoDuration?{W:"span",L:"iv-card-video-duration",Qr:y.videoDuration}:void 0;E=y.isLiveNow?{W:"span",qe:["yt-badge","yt-badge-live"],Qr:"LIVE NOW"}:null;W={W:"div",qe:["iv-card","iv-card-video"],U:[{W:"a",L:"iv-click-target",Z:{href:((O=y.url)==null?void 0:eb(O))||""},U:[jb(y.Nk,v),{W:"div",L:"iv-card-content",U:[oXS(y),Uu("h2","iv-card-primary-link",y.title),fk_(y),E]}]}]};O=new g.U(W);hF(p,g.ew("iv-click-target",
O.element),y,y.url);y=O;break;default:return null}return y},tLY=function(p){if(p.C)return p.C.bx.type==="productListing";
if(p.N.K("enable_wn_infocards")){var y;return!((y=p.cards)==null||!y.length)&&g.AJ(p.cards,function(O){return O.bx.type==="productListing"})}return g.AJ(p.cards,function(O){return O.bx.type==="productListing"})},vr=function(p){g.Jg(p.N.getRootNode(),"ytp-cards-shopping-active",tLY(p))},Tw$=function(p,y){if(!g.qu(p.N.getRootNode(),"ytp-cards-teaser-shown")){if(p.C!==y){var O=g.Z2(),v=p.C?p.C.bx.ge:p.ge;
O&&v&&g.Qb(O,[v]);p.C=y;vr(p)}(O=p.isInitialized&&p.Wj().style.display=="none")||(O=p.context.N.getPlayerState(),v=O===0&&p.context.N.getCurrentTime()===0,O=!(O===1||O===3||v));if(!O&&y.bx.teaserDurationMs){var W;O={teaserText:y.bx.teaserText,durationMs:y.bx.teaserDurationMs,onClickCommand:y.bx.onClickCommand,Bh:(W=y.bx.Bh)!=null?W:null};p.N.Wz(!0,O)}p.eL.isActive()||((!p.J||!p.Ne.isActive()&&p.xs)&&xHe(p,y),p.eL.start(910+y.bx.teaserDurationMs))}},xHe=function(p,y){p.V.Pj?(y=new ZN([0,
p.T.scrollTop],[0,y.z$.offsetTop],600,w8Y),p.context.J.listen(y,"animate",function(O){p.T.scrollTop=O.y}),p.context.J.listen(y,"finish",function(O){p.T.scrollTop=O.y}),y.play()):(p.V.iT(!0),p.T.scrollTop=y.z$.offsetTop,p.V.iT(!1))},Wr=function(p){return p.C&&p.C.bx?p.C.bx:p.cards[0]&&p.cards[0].bx?p.cards[0].bx:null},KeY=function(p,y){return g.SF(p.cards,function(O){return O.bx.id===y})},gT=function(p,y,O){bx.call(this,p,y);
this.annotation=O;this.isActive=!1},YjX=function(p){var y=p.annotation.data;
"start_ms"in y&&"end_ms"in y&&p.addCueRange(Number(y.start_ms),Number(y.end_ms),p.annotation.id,function(){p.show()},function(){p.hide()})},Ev=function(p,y,O){gT.call(this,p,y,O);
this.T=null;this.Y=!1;this.J=null;this.B=!1;this.C=this.G=this.D=null},MLL=function(p,y){var O=O===void 0?0:O;
var v=kPF(y).width;g.MO(y,v);O=new L2e(y,[v,y.offsetTop],[v-v-O,y.offsetTop],200,l9$);g.B(p,O);p.context.J.listen(O,"begin",function(){g.dy(y,!0)});
O.play()},lk6=function(p,y){if(y.channel_name){var O=p.createElement({W:"div",
qe:["iv-branding-context-name"],Qr:y.channel_name}),v=p.createElement({W:"div",qe:["iv-branding-context-subscribe"]}),W=y.standalone_subscribe_button_data;W&&(p.C=new g.pG(W.subscribeText,W.subscribeCount,W.unsubscribeText,W.unsubscribeCount,!!W.enabled,!!W.classic,y.channel_id,!!W.subscribed,W.feature,y.session_data.itct,p.context.N,!1),p.C.Au(v));var E=p.createElement({W:"div",qe:["iv-branding-context-subscribe-caret"]}),z=p.createElement({W:"div",qe:["branding-context-container-inner"]});z.appendChild(E);
z.appendChild(O);z.appendChild(v);g.dy(z,!1);var f=p.createElement({W:"div",qe:["branding-context-container-outer"]});f.appendChild(z);g.aM(f,"right",y.image_width+"px");g.pu(p.Wj(),f);p.J=new g.WI(function(){ZZF(p,z,f)},500);
g.B(p,p.J);p.context.C.listen(p.Wj(),"mouseover",function(){LeF(p,z,f,E,y.image_height)});
p.context.C.listen(p.Wj(),"mouseout",function(){p.J.start()})}},LeF=function(p,y,O,v,W){p.J.stop();
if(!p.B){var E=g.m0(y);p.C||(y.style.width=g.YP(E.width,!0),O.style.width=g.YP(E.width,!0));g.aM(v,"top",E.height-Math.max(Math.min(E.height,W)/2+10,20)+"px");g.aM(v,"right","1px");p.B=!0;g.dy(y,!0);p.D=new g.WI(function(){g.S1(this.Wj(),"iv-branding-active")},0,p);
p.D.start()}},ZZF=function(p,y,O){g.PI(p.Wj(),"iv-branding-active");
p.G=new g.WI(function(){g.dy(y,!1);p.C||(O.style.width=g.YP(0,!0))},250);
p.G.start();p.B=!1},wzF=function(p,y,O,v,W,E,z){this.C=p;
this.J=y;this.I_=O;this.videoData=v;this.logger=W;this.N=E;this.T=z},mHK=function(p,y,O){gT.call(this,p,y,O);
var v=this;this.S=this.isCollapsed=this.V=!1;this.G=5E3;this.T=this.J=this.C=this.B=null;this.Y=this.createElement({W:"div",qe:["iv-promo-contents"]});this.D=new g.WI(function(){v.C.setAttribute("aria-hidden","true");g.dy(v.J,!1);g.dy(v.T,!0)},700,this);
g.B(this,this.D)},BwY=function(p){var y=p.annotation.data;
if(p.annotation.style==="cta")var O=6;else if(p.annotation.style==="video"||p.annotation.style==="playlist")O=7;p.G=y.collapsedelay_ms||p.G;var v=["iv-promo","iv-promo-inactive"];p.Wj().setAttribute("aria-hidden","true");p.Wj().setAttribute("aria-label","Promotion");p.Wj().tabIndex=0;var W=p.annotation.tE(),E=y.image_url;if(E){var z=p.createElement({W:"div",qe:["iv-promo-img","iv-click-target"]});E=p.createElement({W:"img",Z:{src:E,"aria-hidden":"true"}});z.appendChild(E);y.video_duration&&!y.is_live?
(E=p.createElement({W:"span",L:"iv-promo-video-duration",Qr:y.video_duration}),z.appendChild(E)):y.playlist_length&&(E=p.createElement({W:"span",L:"iv-promo-playlist-length",Qr:y.playlist_length.toString()}),z.appendChild(E));W&&CB(p,z,W,p.annotation.id,y.session_data,void 0,O)}W?(E=p.createElement({W:"a",L:"iv-promo-txt"}),g.Cl(E,eb(W)),p.C=E):p.C=p.createElement({W:"div",L:"iv-promo-txt"});switch(p.annotation.style){case "cta":case "website":var f=p.createElement({W:"p",U:[{W:"strong",Qr:y.text_line_1}]});
var n=p.createElement({W:"p",U:[{W:"span",L:"iv-promo-link",Qr:y.text_line_2}]});if(E=y.text_line_3){v.push("iv-promo-website-card-cta-redesign");var Q=p.createElement({W:"button",qe:["iv-promo-round-expand-icon","ytp-button"]});E=p.createElement({W:"button",qe:["iv-button","iv-promo-button"],U:[{W:"span",L:"iv-button-content",Qr:E}]});var q=p.createElement({W:"div",L:"iv-promo-button-container"});q.appendChild(E);W&&CB(p,p.Wj(),W,p.annotation.id,y.session_data,void 0,O)}g.S1(p.C,"iv-click-target");
W&&CB(p,p.C,W,p.annotation.id,y.session_data,void 0,O);break;case "playlist":case "video":f=p.createElement({W:"p",U:[{W:"span",Qr:y.text_line_1}]}),n=p.createElement({W:"p",U:[{W:"strong",Qr:y.text_line_2}]}),y.is_live&&(f=n,n=p.createElement({W:"span",qe:["yt-badge","iv-promo-badge-live"],Qr:"LIVE NOW"})),g.S1(p.C,"iv-click-target"),W&&CB(p,p.C,W,p.annotation.id,y.session_data,void 0,O),v.push("iv-promo-video")}f&&p.C.appendChild(f);n&&p.C.appendChild(n);p.Y.appendChild(p.C);q&&p.Y.appendChild(q);
O=p.createElement({W:"div",L:"iv-promo-actions"});p.T=p.createElement({W:"button",qe:["iv-promo-expand","ytp-button"]});p.T.title="Expand";p.context.C.listen(p.T,"click",function(S){dHU(p,5E3,S)});
O.appendChild(p.T);g.dy(p.T,!1);p.context.C.listen(p.Wj(),"mouseover",p.LY,p);p.context.C.listen(p.Wj(),"mouseout",p.FX,p);p.context.C.listen(p.Wj(),"touchend",function(S){dHU(p,5E3,S)});
p.J=p.createElement({W:"button",qe:["iv-promo-close","ytp-button"]});p.J.title="Close";p.context.C.listen(p.J,"click",p.annotation.style==="cta"&&y.text_line_3?p.DG:p.al,p);O.appendChild(p.J);g.Nu(p.Wj(),v);z&&(g.pu(p.Wj(),z),Q&&z.appendChild(Q));g.pu(p.Wj(),p.Y);g.pu(p.Wj(),O)},dHU=function(p,y,O){O.stopPropagation();
HZS(p);iZY(p,y);p.C.focus()},FeY=function(p){p.isCollapsed||p.S||p.B||(g.S1(p.Wj(),"iv-promo-collapsed"),p.isCollapsed=!0,p.D.start())},HZS=function(p){p.D.stop();
p.isCollapsed&&(g.u7(p.Wj(),["iv-promo-collapsed","iv-promo-collapsed-no-delay"]),p.isCollapsed=!1,p.C&&p.C.removeAttribute("aria-hidden"),g.dy(p.T,!1),g.dy(p.J,!0))},iZY=function(p,y){p.B||(p.B=g.IZ(function(){Ik6(this);
FeY(this)},y,p))},Ik6=function(p){p.B&&(g.ji.clearTimeout(p.B),p.B=null)},eFF=function(p){this.N=p},RFe=function(p,y,O){y&&(O?z1(p,y.map(function(v){return g.B4(v,O)})):z1(p,y))},z1=function(p,y,O,v){var W=1,E=void 0,z=-1;
if(O){var f=!1;E=function(){W--;W||f||(clearTimeout(z),f=!0,O())};
z=setTimeout(function(){f=!0;O()},1E3)}y=g.c(y||[]);
for(var n=y.next();!n.done;n=y.next())n=n.value,W++,g.jN(n,E);v&&(W++,v!==0&&p.N.sendVideoStatsEngageEvent(v,E))},XzS=function(p){g.Ru.call(this,p);
var y=this;this.P2=this.S=!1;this.loadNumber=0;this.G={};this.logger=new eFF(this.player);this.B=new g.hz(this);this.D=this.Y=null;this.events=new g.hz(this);this.Ou=this.V=this.C=null;this.T4=[];g.B(this,this.B);this.B.j(this.player,"onVideoAreaChange",function(){y.publish("onVideoAreaChange")});
this.B.j(this.player,"onHideControls",function(){y.publish("onHideControls")});
this.B.j(this.player,"onShowControls",function(){y.publish("onShowControls")});
this.B.j(this.player,"resize",function(v){y.publish("resize",v)});
this.B.j(this.player,"presentingplayerstatechange",function(v){y.publish("presentingplayerstatechange",v)});
this.subscribe("presentingplayerstatechange",this.X$,this);this.subscribe("resize",this.Ir,this);this.player.X().xs.subscribe("vast_info_card_add",this.Ii,this);g.B(this,this.events);this.R_=this.createElement({W:"div",L:"video-custom-annotations"});this.T=new g.U({W:"div",qe:["ytp-player-content","ytp-iv-player-content"]});g.B(this,this.T);g.IK(this.player,this.T.element,4);this.T.hide();this.J=new g.U({W:"div",qe:["ytp-iv-video-content"]});g.B(this,this.J);p=this.createElement({W:"div",L:"video-annotations"});
p.appendChild(this.R_);this.J.element.appendChild(p);this.Xx()&&this.load();var O=this.createElement({W:"style"});(g.Iz("HEAD")[0]||document.body).appendChild(O);this.addOnDisposeCallback(function(){g.Wv(O)});
if(p=O.sheet)p.insertRule(".iv-promo .iv-promo-contents .iv-promo-txt .iv-promo-link:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUBAMAAAB/pwA+AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAHlBMVEVMaXH////////////////////////////////////Z6AnKAAAACXRSTlMA+/A2IuI1mJIldm0CAAAAAWJLR0QB/wIt3gAAAEVJREFUCNdjYGCYCQUMBJlACOIzIDElIcyZkwxgojOVWWDMSQauMKYySySUOSnBdSaUOZ0lEsac2YqwYiZ+JhwgM7E5HACgzVCI/YJ59AAAAABJRU5ErkJggg==) no-repeat center;background-size:10px;width:10px;height:10px}",
0),p.insertRule(".iv-promo .iv-promo-actions .iv-promo-close:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJBAMAAAASvxsjAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAVaQDpaimqQbl5rjXUFUAAAABYktHRAH/Ai3eAAAAPUlEQVQI12MQMmAwEmDwDmaOTmAw39663YCBuXp2MQMDQ+fOBgYG5ujVwQwMptvbgeLaxczVCQwiBgxmAgBkXg1FN5iwiAAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",
0),p.insertRule(".iv-promo .iv-promo-actions .iv-promo-expand:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAJBAMAAADnQZCTAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXHMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMz////eMKB4AAAAC3RSTlMAOpE7k5Uvj5kpfRaQSaQAAAABYktHRAsf18TAAAAAHklEQVQI12MQYGBQZmBwTWCo0GSo6AKRQDZQRIABADXXA/UkIpvtAAAAAElFTkSuQmCC) no-repeat center;background-size:4px 9px;width:4px;height:9px}",0),p.insertRule(".iv-promo-website-card-cta-redesign .iv-promo-round-expand-icon:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfgCgUUEztsNfqrAAAAXklEQVRYw+3Uuw2AQAwEUUNXfBpDIvBRMhQwJJAScNrA0r4CdiQHjjAzK4NGKucPAFmCnZcmwcTphBNO9CTGH4VB+/Zm6YlYis9fhedXz38FNvFriCCl808iw8ysrBu65gCeuV/CfgAAAABJRU5ErkJggg==) no-repeat center;background-size:18px 18px;width:18px;height:18px}",
0),p.insertRule(".iv-card-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAGFBMVEVMaXG7u7u7u7u7u7u7u7u7u7u7u7v///+WKTAlAAAABnRSTlMAFdQWbGj9GiOuAAAAAWJLR0QHFmGI6wAAAEhJREFUCNdjYACBNCBgQGMxMKrBWEJJaRAJRjVlKEsoSQDIAqtSZICwgEIQFkgIZBRECMxiBqsCsVjAqsCygQwwFgMeFgQgswBg2xjLrfC4mgAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",0),p.insertRule(".iv-card-playlist-video-count:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAH/Ai3eAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}",
0),p.insertRule(".iv-drawer-close-button:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAgMAAAArG7R0AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACVBMVEVMaXH////////OZTV/AAAAAnRSTlMAoKBFbtAAAAABYktHRAH/Ai3eAAAAKUlEQVQI12MIYGBlSGGQBMIUBjbHCQyM0xwYGDIZwBjEBomB5EBqgGoBolQGzYuy51cAAAAASUVORK5CYII=) no-repeat center;background-size:12px;width:12px;height:12px}",0),p.insertRule(".iv-ad-info-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAMAAACecocUAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAVFBMVEVMaXGUlJSYmJiZmZmYmJiXl5eZmZmZmZmWlpaVlZWOjo6ZmZmSkpKXl5eYmJiYmJiZmZmZmZmZmZmZmZmYmJiJiYmXl5eZmZmYmJiWlpaZmZn///+81lbeAAAAGnRSTlMAE5DM80DliTMMEjccWIM5p1UjaTQNgB5cLlr5mgUAAAABYktHRBsCYNSkAAAAVElEQVQI102NRw7AIBADhw7ppIf/PzQLJ/ZgWSNrFlDaWKMVcs6HmGLwTqjEME6CFDrAXBYIGhNh3TJEg02wHydctvFc7sbrvnXZV8/zfs3T+7u/P7CrAso35YfPAAAAAElFTkSuQmCC) no-repeat center;background-size:11px;width:11px;height:11px}",
0),p.insertRule(".annotation-close-button {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAALVBMVEVMaXEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/Pz9aWloBAQGZmZlbW1v///+X9wUzAAAACHRSTlMANprf+g6lyRmB9hUAAAABYktHRA5vvTBPAAAAWUlEQVQI12NgYBAycVZkAIKwDiBIZWBgrQAx2gMY2DrAIIFBomPWju6VHY0MGh1rbu891dHEYNGx9+yd2x3NDB4d3XfO7uhoQTDgUnDFcO1wA+FWwC2FOQMAdKg6tUSAFEAAAAAASUVORK5CYII=) no-repeat center}",0),p.insertRule(".annotation-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAMAAAANmfvwAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAUVBMVEVMaXH////////////////////////////////////////////////////////////////////////////////////////////////////////JzkR1AAAAGnRSTlMAfXf+c3xsdGdv/GJoXPtXXflSVk5L7DBH9VeFfsQAAAABYktHRAH/Ai3eAAAAgElEQVQ4y93SSQ6AIAwFULSOOOJs739Qf9SF0VA2uNCu+psHaQJK7cVCqY+Rg92PXA++Q84KnCR03UIRJrFEKMEgZYFQhpyzQHSBWJJAdIVUENtJ3SC0mu3EdOh7zXZiBrRdzQLJ0Y1GfOlpVstD3HaZktX9X/gvRCxvxL6FR7IBS1RTM5xIpLoAAAAASUVORK5CYII=) no-repeat center}",
0)},UHe=function(p){p=p.createElement({W:"div",
qe:["annotation","annotation-type-custom"]});g.dy(p,!1);return p},j1I=function(p,y){y=!y.isCued()&&!g.C(y,1024);
p.T.iT(y);p.J.iT(y)},hFU=function(p,y,O){p.S=!0;
p.D=g.Z_(y,O)},bZ_=function(p,y){for(var O={},v=g.c(y.attributes),W=v.next();!W.done;W=v.next())W=W.value,O[W.name]=W.nodeValue;
for(v=0;v<y.childNodes.length;v++)if(W=y.childNodes[v],g.pA(W)&&W.nodeType==1){if(O[W.tagName])var E=O[W.tagName];else if(W.tagName==="data"){W.childNodes.length>0&&(E=W.childNodes[0].nodeValue,O[W.tagName]=typeof E==="string"?E.trim():E);continue}else E=[],O[W.tagName]=E;W&&W.tagName==="TEXT"?W.childNodes.length===1&&W.childNodes[0].nodeType===3?E.push(W.childNodes[0].nodeValue):E.push(""):W&&E.push(bZ_(p,W))}return O},A3U=function(p){var y=p.player.getVideoData();
if(y.Fo){var O=p.player.X().xs.get(y.videoId);if(O){var v={format:"XML",urlParams:{},method:"POST",withCredentials:!0,onFinish:function(W,E,z){W=p.loadNumber;E=y.videoId;p.loaded&&p.loadNumber===W&&p.player.getVideoData().videoId===E&&(z=g.RG(z)&&z.responseXML?z.responseXML:null)&&Cm$(p,z)}};
g.GY()&&(v.onFinish=DHA(p,v.onFinish));v.postParams={ic_only:"1"};VLe(v,O);p.S=!0;g.Z_(y.Fo,v)}}},VLe=function(p,y){p.method="POST";
p.postParams=p.postParams||{};y.dK&&(p.postParams.ic_coll=y.dK);y.bz&&(p.postParams.ic_xml=y.bz);y.Qa&&(p.postParams.ic_track=y.Qa)},pl$=function(p){var y=new g.U({W:"div"});
g.dy(y.element,!1);var O=new PmF(p.player,y.element,G1(p));g.B(O,y);y.Au(p.T.element);O.Hu();return O},OxL=function(p,y){var O,v;
if(y=(O=y.getWatchNextResponse())==null?void 0:(v=O.cards)==null?void 0:v.cardCollectionRenderer)p.P2=!0,yNF(p,y),y.headerText&&p.Ou&&(O=g.rq(y.headerText),p.Ou.setAttribute("title",O))},G1=function(p){if(!p.V){var y=new ml$(p);
g.B(p,y);var O=new g.$T(p);g.B(p,O);p.V=new wzF(y,O,p.player.X(),p.player.getVideoData(),p.logger,p.player,p.OQ)}return p.V},Cm$=function(p,y){var O=!1,v=y.getElementsByTagName("annotations");
if(v&&!(v.length<1)&&(v=v[0].getAttribute("itct"))){var W=g.Z2();if(W){var E=g.MY();E&&g.g8(g.pC)(void 0,W,E,[g.tT(v)])}}y=y.getElementsByTagName("annotation");for(v=0;v<y.length;v++){E=bZ_(p,y[v]);W=null;try{if(E){var z=E.id,f=/.+/;var n=typeof z==="string"&&f!=null&&z!=null&&z.match(f)?z:"";var Q=I$(E.type,v7F),q=I$(E.style,W_Y),S=A9h(E.data),N=S.length!==0?JSON.parse(S):{};var P=E.action;E=gXF;if(P==null)var u=null;else if(g.AQ(P)){f=[];for(var R=g.c(P),r=R.next();!r.done;r=R.next()){var x=E(r.value);
x&&f.push(x)}u=f}else{var k=E(P);u=k?[k]:[]}W=n&&Q?new EXS(n,Q,q,u,N):null}else W=null}catch(V){}if(W)if(W.type==="branding"||W.type==="promotion"){E=p;f=W;var M=UHe(E),l=null;switch(f.type){case "branding":if(E.player.X().uI)break;E.T.element.appendChild(M);l=new Ev(M,G1(E),f);break;case "promotion":g.IK(E.player,M,4),l=new mHK(M,G1(E),f)}l&&l.Hu();if(E=l)g.B(p,E),p.G[W.id]=E}else if(W.type==="card"||W.type==="drawer"){p.C||(p.C=pl$(p),g.B(p,p.C));if(W.type==="card"){M=p.C;var H=(O=W)&&O.data&&O.data.card_type;
W=O.data;if(H)switch(E=W.tracking||{},E={Eq:E.impression,click:E.click,close:E.close,eI:E.teaser_impression,nt:E.teaser_click},f=W.tracking_params||{},l=null,H){case "collaborator":O={id:O.id,timestamp:W.timestamp||0,type:W.card_type,teaserText:W.teaser_text,teaserDurationMs:W.teaser_duration_ms,startMs:W.start_ms,autoOpen:W.auto_open||!1,sessionData:W.session_data||{},sponsored:W.sponsored||!1,PA:E,zj:f.card?g.tT(f.card):null,E8:f.teaser?g.tT(f.teaser):null,ge:f.icon?g.tT(f.icon):null,channelId:W.channel_id,
customMessage:W.custom_message?W.custom_message:null,profileImageUrl:W.image_url,title:W.title,metaInfo:W.meta_info,url:Xg({pause_on_navigation:W.pause_on_navigation,target:W.target||"new",value:W.url}),onClickCommand:null};yL(M,O);break;case "playlist":O={id:O.id,timestamp:W.timestamp||0,type:W.card_type,teaserText:W.teaser_text,teaserDurationMs:W.teaser_duration_ms,startMs:W.start_ms,autoOpen:W.auto_open||!1,sessionData:W.session_data||{},sponsored:W.sponsored||!1,PA:E,zj:f.card?g.tT(f.card):null,
E8:f.teaser?g.tT(f.teaser):null,ge:f.icon?g.tT(f.icon):null,Nk:W.image_url,playlistVideoCount:W.playlist_video_count,customMessage:W.custom_message?W.custom_message:null,title:W.title,metaInfo:W.meta_info,url:Xg({pause_on_navigation:W.pause_on_navigation,target:W.target||"new",value:W.url}),onClickCommand:null};yL(M,O);break;case "productListing":W.signin_url&&(l=Xg({target:"current",value:W.signin_url}));H=[];for(var h=W.offers||[],X=0;X<h.length;X++)H.push(new Q1_(g.uK(h[X].merchant),g.uK(h[X].price)));
O={id:O.id,timestamp:W.timestamp||0,type:W.card_type,teaserText:W.teaser_text,teaserDurationMs:W.teaser_duration_ms,startMs:W.start_ms,autoOpen:W.auto_open||!1,sessionData:W.session_data||{},sponsored:W.sponsored||!1,PA:E,zj:f.card?g.tT(f.card):null,E8:f.teaser?g.tT(f.teaser):null,ge:f.icon?g.tT(f.icon):null,imageUrl:W.image_url,displayDomain:W.display_domain?W.display_domain:null,showLinkIcon:!!W.show_link_icon,Ai:W.button_icon_url?W.button_icon_url:null,title:W.title,customMessage:W.custom_message?
W.custom_message:null,url:Xg({pause_on_navigation:W.pause_on_navigation,target:W.target||"new",value:W.url}),Vbo:l,e0_:W.signin_title?W.signin_title:void 0,gjI:W.signin_message?W.signin_message:void 0,offers:H,onClickCommand:null};yL(M,O);break;case "simple":O={id:O.id,timestamp:W.timestamp||0,type:W.card_type,teaserText:W.teaser_text,teaserDurationMs:W.teaser_duration_ms,startMs:W.start_ms,autoOpen:W.auto_open||!1,sessionData:W.session_data||{},sponsored:W.sponsored||!1,PA:E,zj:f.card?g.tT(f.card):
null,E8:f.teaser?g.tT(f.teaser):null,ge:f.icon?g.tT(f.icon):null,imageUrl:W.image_url,displayDomain:W.display_domain?W.display_domain:null,showLinkIcon:!!W.show_link_icon,Ai:W.button_icon_url?W.button_icon_url:null,title:W.title,customMessage:W.custom_message?W.custom_message:null,url:Xg({pause_on_navigation:W.pause_on_navigation,target:W.target||"new",value:W.url}),onClickCommand:null};yL(M,O);break;case "video":O={id:O.id,timestamp:W.timestamp||0,type:W.card_type,teaserText:W.teaser_text,teaserDurationMs:W.teaser_duration_ms,
startMs:W.start_ms,autoOpen:W.auto_open||!1,sessionData:W.session_data||{},sponsored:W.sponsored||!1,PA:E,zj:f.card?g.tT(f.card):null,E8:f.teaser?g.tT(f.teaser):null,ge:f.icon?g.tT(f.icon):null,Nk:W.image_url,videoDuration:W.video_duration||null,customMessage:W.custom_message?W.custom_message:null,title:W.title,metaInfo:W.meta_info,isLiveNow:!!W.is_live_now,url:Xg({pause_on_navigation:W.pause_on_navigation,target:W.target||"new",value:W.url}),onClickCommand:null},yL(M,O)}}else ufe(p.C,W);O=!0}}O&&
(xm(p.player),p.Ir())},yNF=function(p,y){var O=!1;
p.C||(p.C=pl$(p),g.B(p,p.C));for(var v=g.c(y.cards||[]),W=v.next();!W.done;W=v.next())W=W.value,W.cardRenderer&&(J3I(p.C,W.cardRenderer),O=!0);if(O){var E;(E=p.player.getVideoData())!=null&&g.FP(E)||(O=p.C,v=y.headerText?g.rq(y.headerText):"",g.Ep(O.p_,v),O.S&&O.S.setAttribute("title",v),O.context.videoData.eventId&&(O.eventId=O.context.videoData.eventId),O.w2=y.trackingParams?g.tT(y.trackingParams):null,O.Y=y.closeButton.infoCardIconRenderer.trackingParams?g.tT(y.closeButton.infoCardIconRenderer.trackingParams):
null,O.ge=y.icon.infoCardIconRenderer.trackingParams?g.tT(y.icon.infoCardIconRenderer.trackingParams):null,p.Ir());xm(p.player)}},g7Y=function(p,y,O,v,W){if(!p.player.X().uI){var E=[];
y.navigationEndpoint&&g.F(y.navigationEndpoint,g.ly)&&g.F(y.navigationEndpoint,g.ly).browseId&&E.push(new OZU("openUrl","click",new pzS("/channel/"+g.F(y.navigationEndpoint,g.ly).browseId,"new",!0,!0)));var z=y.watermark.thumbnails[0];v={channel_name:y.channelName,end_ms:y.endTimeMs,image_height:z.height,image_type:1,image_url:z.url,image_width:z.width,is_mobile:!1,session_data:{annotation_id:O,ei:W,feature:"iv",itct:y.trackingParams,src_vid:v},start_ms:y.startTimeMs};if(y.subscribeButton&&g.F(y.subscribeButton,
g.w_)){v.channel_id=g.F(y.subscribeButton,g.w_).channelId;var f;y=g.F(y.subscribeButton,g.w_);z=W=null;y.subscribed?(y.subscriberCountWithUnsubscribeText&&(W=g.rq(y.subscriberCountWithUnsubscribeText)),y.subscriberCountText&&(z=g.rq(y.subscriberCountText))):(y.subscriberCountText&&(W=g.rq(y.subscriberCountText)),y.subscriberCountWithSubscribeText&&(z=g.rq(y.subscriberCountWithSubscribeText)));var n,Q=((n=g.F((f=y.signInEndpoint)==null?void 0:f.commandMetadata,g.Ry))==null?void 0:n.url)||"";f={subscribeText:g.rq(y.unsubscribedButtonText),
subscribeCount:W||"",unsubscribeText:g.rq(y.subscribedButtonText),unsubscribeCount:z||"",enabled:y.enabled||!1,classic:!1,subscribed:y.subscribed||!1,feature:"iv",signInUrl:Q};v.standalone_subscribe_button_data=f}E=new EXS(O,"branding","branding",E,v);f=UHe(p);p.T.element.appendChild(f);E=new Ev(f,G1(p),E);E.Hu();g.B(E,E);p.G[O]=E}},DHA=function(p,y){return function(){var O=g.wQ.apply(0,arguments);
p.DI()||p.T4.push(g.b4.SW(function(){y.apply(null,g.T(O))}))}},E7Y=function(p){return p==="annotation-editor"||p==="live-dashboard"};
g.li.prototype.Wz=g.gQ(39,function(p,y){var O=g.L7(this.Jb());O&&O.Wz(p,y)});
var tF={},Ym=null;g.oY(ZN,g.Kh);g.J=ZN.prototype;g.J.getDuration=function(){return this.duration};
g.J.play=function(p){if(p||this.C==0)this.progress=0,this.coords=this.T;else if(this.isPlaying())return!1;MR(this);this.startTime=p=g.E_();this.isPaused()&&(this.startTime-=this.duration*this.progress);this.endTime=this.startTime+this.duration;this.B=this.startTime;this.progress||this.E0();this.ql("play");this.isPaused()&&this.ql("resume");this.C=1;var y=g.vX(this);y in tF||(tF[y]=this);tse();YiU(this,p);return!0};
g.J.stop=function(p){MR(this);this.C=0;p&&(this.progress=1);MsY(this,this.progress);this.onStop();this.f7()};
g.J.pause=function(){this.isPlaying()&&(MR(this),this.C=-1,this.ql("pause"))};
g.J.mN=function(){this.C==0||this.stop(!1);this.ql("destroy");ZN.CV.mN.call(this)};
g.J.destroy=function(){this.dispose()};
g.J.J_=function(){this.ql("animate")};
g.J.ql=function(p){this.dispatchEvent(new Z2_(p,this))};
g.oY(Z2_,g.yJ);g.oY(LB,ZN);LB.prototype.J=function(){};
LB.prototype.J_=function(){this.J();LB.CV.J_.call(this)};
LB.prototype.f7=function(){this.J();LB.CV.f7.call(this)};
LB.prototype.E0=function(){this.J();LB.CV.E0.call(this)};
g.oY(L2e,LB);L2e.prototype.J=function(){this.element.style.left=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};g.K(ml$,g.d);g.J=ml$.prototype;g.J.listen=function(p,y,O,v){O=(0,g.WX)(O,v||this.T);p=g.tB(p,y,O);this.C.push(p);return p};
g.J.WS=function(p,y,O,v){O=(0,g.WX)(O,v||this.T);p=xle(p,y,O);this.C.push(p);return p};
g.J.wp=function(p){g.Yi(p);g.JI(this.C,p)};
g.J.removeAll=function(){g.Yi(this.C);this.C.length=0};
g.J.mN=function(){this.removeAll();g.d.prototype.mN.call(this)};g.K(H2F,g.Ru);g.J=H2F.prototype;g.J.load=function(){g.Ru.prototype.load.call(this);if(!mL(this)){var p=g.YZF(this.player.getVideoData());p?(p=BpA(p,i2S(this)),df(this,p,!1)):F2X(this)}};
g.J.unload=function(){df(this,null);this.B&&(this.B.abort(),this.B=null);g.Ru.prototype.unload.call(this)};
g.J.Hx=function(p,y){return mL(this)?p==="loadCustomEndscreenRenderer"?(p=BpA(y,"new"),df(this,p),!0):null:null};
g.J.getOptions=function(){return mL(this)?["loadCustomEndscreenRenderer"]:[]};
g.J.rN=function(){if(this.endscreen&&this.endscreen.elements){var p=this.player.getVideoContentRect();if(p&&p.width!==0&&p.height!==0){var y=this.player.getPlayerSize();if(y&&y.width!==0&&y.height!==0){var O=p.width/p.height;var v=0;for(var W=-1,E=0;E<zR6.length;E++){var z=Math.abs(y.width-zR6[E]);if(W===-1||v>=z)W=E,v=z}v=Gh$[W];this.J&&g.aM(this.J.element,"outline-width",Math.max(y.width,y.height)+"px");for(y=0;y<this.endscreen.elements.length;++y)if(E=this.endscreen.elements[y].id,W=this.T[E],
z=this.G[E],W&&z){var f=z.width*O/z.aspectRatio,n=Math.round(z.width*p.width);E=Math.round(f*p.height);var Q=p.left+Math.round(z.left*p.width),q=p.top+Math.round(z.top*p.height);g.wy(W.element,n,E);g.MO(W.element,Q,q);g.u7(W.element,o7S);n>256||E>256?g.S1(W.element,"ytp-ce-large-round"):n>96||E>96?g.S1(W.element,"ytp-ce-medium-round"):g.S1(W.element,"ytp-ce-small-round");g.u7(W.element,ffF);n=z.left+z.width/2;z=z.top+f/2;g.S1(W.element,n<=.5&&z<=.5?"ytp-ce-top-left-quad":n>.5&&z<=.5?"ytp-ce-top-right-quad":
n<=.5&&z>.5?"ytp-ce-bottom-left-quad":"ytp-ce-bottom-right-quad");g.u7(W.element,Gh$);g.S1(W.element,v);(W=g.XU(document,"div","ytp-ce-expanding-overlay-body",W.element)[0])&&g.aM(W,"height",E+"px")}}}}};
g.J.onCueRangeEnter=function(p){if(this.endscreen)if(p.getId()==="ytp-ce-in-endscreen")Fg(this,this.endscreen.impressionUrls),(p=g.Z2())&&this.endscreen.visualElement&&g.fC(p,this.endscreen.visualElement),this.C&&(g.S1(this.C,"ytp-ce-element-show"),this.C.removeAttribute("aria-hidden"),this.player.fN()?g.S1(this.C,"ytp-ce-hide-button-lower"):g.PI(this.C,"ytp-ce-hide-button-lower"));else{p=p.getId().substring(15);var y=this.T[p],O=this.G[p];g.S1(y.element,"ytp-ce-element-show");y.element.removeAttribute("aria-hidden");
y=this.player.getRootNode();g.S1(y,"ytp-ce-shown");Fg(this,O.impressionUrls);(y=g.Z2())&&g.fC(y,O.visualElement);this.player.X().S&&this.player.g2("endscreenelementshown",p)}};
g.J.onCueRangeExit=function(p){if(p.getId()==="ytp-ce-in-endscreen")this.C&&(g.PI(this.C,"ytp-ce-element-show"),this.C.setAttribute("aria-hidden","true"));else{p=p.getId().substring(15);var y=this.T[p];g.PI(y.element,"ytp-ce-element-show");y.element.setAttribute("aria-hidden","true");y=this.player.getRootNode();g.PI(y,"ytp-ce-shown");this.player.X().S&&this.player.g2("endscreenelementhidden",p)}};
g.J.waN=function(p){var y=this;p.target===window&&(new g.WI(function(){for(var O=g.c(Object.values(y.T)),v=O.next();!v.done;v=O.next())g.u7(v.value.element,["ytp-ce-force-expand","ytp-ce-element-hover","ytp-ce-element-shadow-show"])},0)).start()};
g.J.iT=function(p){for(var y=g.c(Object.values(this.T)),O=y.next();!O.done;O=y.next())O=O.value,p?O.element.setAttribute("hidden",""):O.element.removeAttribute("hidden")};
g.J.sJo=function(p){this.C&&this.player.getRootNode().removeChild(this.C);p&&(g.S1(p,"ytp-ce-hide-button-container"),this.C=p,g.IK(this.player,this.C,4))};
var zR6=[346,426,470,506,570,640,853,1280,1920],Gh$="ytp-ce-size-346 ytp-ce-size-426 ytp-ce-size-470 ytp-ce-size-506 ytp-ce-size-570 ytp-ce-size-640 ytp-ce-size-853 ytp-ce-size-1280 ytp-ce-size-1920".split(" "),ffF=["ytp-ce-top-left-quad","ytp-ce-top-right-quad","ytp-ce-bottom-left-quad","ytp-ce-bottom-right-quad"],o7S=["ytp-ce-small-round","ytp-ce-medium-round","ytp-ce-large-round"];var y3F={c1_:"current",Gd2:"new"};var vXU={CLOSE:"close",K$r:"openUrl",SUBSCRIBE:"subscribe"},WeK={tWR:"click",CLOSE:"close",ZNL:"hidden",Jc4:"rollOut",BQR:"rollOver",KYb:"shown"};EXS.prototype.tE=function(){var p=zFI(this,function(y){return y.type==="openUrl"&&y.url!=null});
return p?p.url:null};
var W_Y={o9r:"anchored",W0:"branding",CHANNEL:"channel",y1o:"cta",Ucu:"highlightText",zMs:"label",PLAYLIST:"playlist",POPUP:"popup",n0b:"speech",SUBSCRIBE:"subscribe",g0o:"title",VIDEO:"video",Lhj:"website"},v7F={W0:"branding",m5r:"card",fnr:"drawer",hCb:"highlight",HLR:"marker",enu:"promotion",TEXT:"text",peL:"widget"};g.K(bx,g.d);g.J=bx.prototype;g.J.addCueRange=function(p,y,O,v,W){p=new g.Sv(p,y,{id:O,namespace:"annotations_module"});v&&this.yr.set(p,v);W&&this.ib.set(p,W);this.context.N.u0([p],1)};
g.J.Hu=function(){this.context.T.subscribe("resize",this.V8,this)};
g.J.Wj=function(){return this.element};
g.J.BM=function(p,y,O,v,W,E){if(this.In)return!1;E&&(E.stopPropagation(),E.preventDefault());this.navigate(p,O,v,W);return!1};
g.J.show=function(){};
g.J.hide=function(){};
g.J.destroy=function(){g.Wv(this.Wj())};
g.J.V8=function(){};
g.J.navigate=function(p,y,O,v){var W=this,E=eb(p);if(E){var z=SjF(E,p.target),f=function(){p.C&&W.context.N.pauseVideo();var n=W.context.videoData.sN||!1,Q=g.n5(E||"");n&&Q&&(Q.v||Q.list)?W.context.N.hc(Q.v,y,Q.list,!1):g.yF(E||"",z==="current"?"_top":void 0,y)};
z==="new"&&(f(),f=null);z1(this.context.logger,O,f,v);qjS(E)||(O=g.Z2(),v=y.itct,O&&v&&g.q4(O,g.tT(v)))}};
g.J.mN=function(){this.yr.clear();this.ib.clear();g.d.prototype.mN.call(this)};
g.J.createElement=function(p){p=new g.U(p);g.B(this,p);return p.element};g.K(PmF,bx);g.J=PmF.prototype;g.J.wU=function(){this.T4&&yL(this,this.T4)};
g.J.isAvailable=function(){var p;if(p=!!this.cards.length)(p=this.N.getRootNode())?(p=g.m0(p),p=173<p.width&&173<p.height):p=!1;return p};
g.J.V8=function(){var p=this.isAvailable();g.dy(this.Wj(),p);g.Jg(this.context.N.getRootNode(),g.EJ.IV_DRAWER_ENABLED,p);xm(this.N)};
g.J.destroy=function(){this.N.Wz(!1);try{this.N.getRootNode().removeChild(this.B)}catch(p){}g.Qd(this.P2);g.mj(this.Fo);this.z4&&this.z4.dispose();this.D&&this.D.dispose();bx.prototype.destroy.call(this)};
g.J.o7=function(){var p=this;this.context.C.listen(g.US("iv-drawer-close-button",this.B),"click",this.W3,this);this.context.C.listen(this.T,"touchend",function(){p.Ne.start()});
this.context.C.listen(this.T,"scroll",this.g1,this);this.context.T.subscribe("onHideControls",function(){p.xs=!0});
this.context.T.subscribe("onShowControls",function(){p.xs=!1});
this.context.T.subscribe("onVideoAreaChange",function(){p.xs=g.qu(p.N.getRootNode(),"ytp-autohide")});
this.P2.push(g.np("iv-button-shown",this.XC,this));this.P2.push(g.np("iv-button-hidden",this.vD,this));s1F(this)};
g.J.findLastIndex=function(p){if(this.cards.length===0)return 0;var y=g.N$(this.cards,function(O){return p.bx.startMs>O.bx.startMs||p.bx.startMs===O.bx.startMs&&p.bx.timestamp>=O.bx.timestamp?!0:!1});
return y===-1?0:y+1};
g.J.W3=function(){if(this.J){z1(this.context.logger,Wr(this).PA.close);var p=g.Z2();p&&this.Y&&g.q4(p,this.Y);AF(this)}};
g.J.g1=function(){g.Jg(this.B,"iv-drawer-scrolled",this.T.scrollTop>0)};
g.J.XC=function(){var p=g.Z2(),y=Wr(this);y=y?y.ge:this.ge;p&&y&&g.nC(p,[y])};
g.J.vD=function(){var p=g.Z2(),y=Wr(this);y=y?y.ge:this.ge;p&&y&&g.Qb(p,[y])};
g.J.v0=function(){var p=Wr(this);z1(this.context.logger,p.PA.eI);var y=g.Z2();if(y&&p)if(this.N.K("web_infocards_teaser_show_logging_fix")){var O=[];p.E8&&O.push(p.E8);p.ge&&O.push(p.ge);O.length>0&&g.nC(y,O)}else g.nC(y,[p.E8,p.ge])};
g.J.yX=function(){var p=g.Z2(),y=Wr(this);p&&y&&g.Qb(p,[y.E8])};
g.J.sC=function(p){var y=Wr(this),O=g.Z2();this.C?p?(p=this.context.logger,z1(p,y.PA.nt),p.N.sendVideoStatsEngageEvent(4,void 0),O&&y.E8&&g.q4(O,y.E8)):(p=this.context.logger,z1(p,y.PA.nt),p.N.sendVideoStatsEngageEvent(4,void 0),O&&y.ge&&g.q4(O,y.ge)):(p=this.context.logger,z1(p,y.PA.nt),p.N.sendVideoStatsEngageEvent(4,void 0),O&&this.ge&&g.q4(O,this.ge))};g.K(gT,bx);gT.prototype.Hu=function(){bx.prototype.Hu.call(this);YjX(this)};
gT.prototype.show=function(){bx.prototype.show.call(this);var p=g.Z2(),y=this.annotation.data;p&&y&&(y=y.session_data)&&g.nC(p,[g.tT(y.itct)])};
gT.prototype.hide=function(){bx.prototype.hide.call(this);var p=g.Z2(),y=this.annotation.data;p&&y&&(y=y.session_data)&&g.Qb(p,[g.tT(y.itct)])};g.K(Ev,gT);
Ev.prototype.show=function(){if(!this.isActive){gT.prototype.show.call(this);if(!this.Y){g.S1(this.Wj(),"iv-branding");var p=this.annotation.data;this.T=this.createElement({W:"img",qe:["branding-img","iv-click-target"],Z:{"aria-label":"Channel watermark",src:p.image_url,width:p.image_width,height:p.image_height}});g.dy(this.T,!1);var y=this.createElement({W:"button",qe:["branding-img-container","ytp-button"]});y.appendChild(this.T);this.Wj().appendChild(y);var O=this.annotation.tE();O&&CB(this,y,
O,this.annotation.id,p.session_data);this.context.N.K("disable_branding_context")||lk6(this,p);this.Y=!0}g.dy(this.Wj(),!0);this.isActive=!0;if(this.T){try{MLL(this,this.T)}catch(v){}g.S1(this.context.N.getRootNode(),"ytp-branding-shown");this.context.N.getRootNode().style.setProperty("--branding-image-width",this.T.getAttribute("width")+"px")}}};
Ev.prototype.hide=function(){this.isActive&&(gT.prototype.hide.call(this),g.dy(this.Wj(),!1),this.isActive=!1,g.PI(this.context.N.getRootNode(),"ytp-branding-shown"))};
Ev.prototype.destroy=function(){this.C&&(this.C.dispose(),this.C=null);g.PI(this.context.N.getRootNode(),"ytp-branding-shown");gT.prototype.destroy.call(this)};g.K(mHK,gT);g.J=mHK.prototype;g.J.show=function(){this.isActive||(gT.prototype.show.call(this),this.V||(BwY(this),this.V=!0),g.dy(this.Wj(),!0),g.IZ(function(){g.PI(this.Wj(),"iv-promo-inactive")},100,this),this.Wj().removeAttribute("aria-hidden"),this.isActive=!0,Ik6(this),HZS(this),iZY(this,this.G))};
g.J.hide=function(){this.isActive&&(g.S1(this.Wj(),"iv-promo-inactive"),this.isActive=!1,this.Wj().setAttribute("aria-hidden","true"))};
g.J.BM=function(p,y,O,v,W,E){return this.isCollapsed?!1:gT.prototype.BM.call(this,p,y,O,v,W,E)};
g.J.LY=function(p){this.S=!0;dHU(this,500,p)};
g.J.FX=function(){this.S=!1;FeY(this)};
g.J.al=function(p){p.stopPropagation();this.hide()};
g.J.DG=function(p){p.stopPropagation();Ik6(this);this.isCollapsed=!0;g.S1(this.Wj(),"iv-promo-collapsed-no-delay");this.D.start()};
g.J.destroy=function(){this.D.dispose();gT.prototype.destroy.call(this)};g.K(XzS,g.Ru);g.J=XzS.prototype;g.J.Hx=function(p,y){if(!E7Y(this.player.X().playerStyle))return null;switch(p){case "loadCustomAnnotationsXml":return(p=g.D3(y))&&Cm$(this,p),!0;case "removeCustomAnnotationById":return y&&this.C&&(c3S(this.C,y),xm(this.player)),!0}return null};
g.J.getOptions=function(){return E7Y(this.player.X().playerStyle)?["loadCustomAnnotationsXml","removeCustomAnnotationById"]:[]};
g.J.Xx=function(){var p=this.player.X(),y=this.player.getVideoData(),O=p.annotationsLoadPolicy||y.annotationsLoadPolicy;return g.oK(y)||this.player.isMutedByEmbedsMutedAutoplay()?!1:O===1&&!y.kf||p.xs.get(y.videoId)||g.IW(y)||g.en(y)?!0:!1};
g.J.Ir=function(){if(this.J){var p=this.player.H2().getVideoContentRect(!0);g.wy(this.J.element,p.width,p.height);g.MO(this.J.element,p.left,p.top)}if(this.C){var y=this.player.Wi();p=this.C;y=y.width;g.Jg(p.B,"iv-drawer-small",y<=426);g.Jg(p.B,"iv-drawer-big",y>=1280)}};
g.J.X$=function(p){j1I(this,p.state);g.C(p.state,2)&&(this.fN()&&this.LZ()&&this.player.getPresentingPlayerType()!==2&&this.N7(!1),this.Wz(!1))};
g.J.load=function(){function p(z){var f=y.loadNumber;y.D=null;y.loaded&&y.loadNumber===f&&y.player.getVideoData().videoId===v&&(z=g.RG(z)&&z.responseXML?z.responseXML:null)&&(Cm$(y,z),g.S1(y.player.getRootNode(),"iv-module-loaded"))}
var y=this;g.Ru.prototype.load.call(this);j1I(this,this.player.getPlayerStateObject());this.loadNumber++;var O=this.player.getVideoData(),v=O.videoId;g.GY()&&(p=DHA(this,p));var W={format:"XML",onFinish:p,onError:function(){y.D=null},
urlParams:{}};O.isPharma&&(W.urlParams.pharma="1");W.method="POST";W.withCredentials=!0;var E=this.player.X().xs.get(v);E&&VLe(W,E);E=E&&(E.bz||E.dK);if(!O.kc||E)O.Fo?hFU(this,O.Fo,W):(this.Y=function(){if(!y.S)y.onVideoDataChange(W);var z=y.player.getVideoData();(z==null?0:g.FP(z))&&!y.P2&&OxL(y,z)},this.player.addEventListener("videodatachange",this.Y));
g.IK(this.player,this.J.element,4);this.Ir();(E=g.IW(O))&&yNF(this,E);(E=g.en(O))&&E.featuredChannel&&g7Y(this,E.featuredChannel,E.annotationId||"branding",O.videoId||null,O.eventId||null);this.Ou=g.US("ytp-cards-button",this.player.getRootNode());g.FP(O)&&OxL(this,O)};
g.J.onVideoDataChange=function(p){var y=this.player.getVideoData();y.Fo&&hFU(this,y.Fo,p)};
g.J.unload=function(){this.player.aY("annotations_module");for(var p=g.c(Object.keys(this.G)),y=p.next();!y.done;y=p.next())this.G[y.value].destroy();this.V=null;this.C&&(this.C.destroy(),this.C=null,xm(this.player));this.S=!1;this.D&&(this.D.abort(),this.D=null);this.P2=!1;this.G={};this.T.hide();g.Ru.prototype.unload.call(this);this.J.detach();this.Y&&(this.player.removeEventListener("videodatachange",this.Y),this.Y=null)};
g.J.Ii=function(p){p===this.player.getVideoData().videoId&&(this.loaded?A3U(this):this.load())};
g.J.fN=function(){var p;return((p=this.C)==null?void 0:p.isAvailable())||this.P2};
g.J.LZ=function(){return!!this.C&&this.C.J};
g.J.N7=function(p,y,O){y=y===void 0?!1:y;this.fN();this.C&&(p?O?VE(this.C,O,y):VE(this.C,"YOUTUBE_DRAWER_AUTO_OPEN",y):AF(this.C))};
g.J.Wz=function(p,y){this.player.publish(p?"cardsteasershow":"cardsteaserhide",y)};
g.J.mN=function(){this.player.X().xs.unsubscribe("vast_info_card_add",this.Ii,this);g.PI(this.player.getRootNode(),g.EJ.IV_DRAWER_OPEN);for(var p=this.T4,y=g.b4,O=0,v=p.length;O<v;O++)y.d0(p[O]);this.T4.length=0;g.Ru.prototype.mN.call(this)};
g.J.createElement=function(p){p=new g.U(p);g.B(this,p);return p.element};g.c5("annotations_module",XzS);g.c5("creatorendscreen",H2F);})(_yt_player);
